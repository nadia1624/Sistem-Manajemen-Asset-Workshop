<%- include("../../layout/sidebar.ejs") %>

<main class="content">
    <div class="header-content">
        <h3 style="font-weight: bold;">Detail Pemeliharaan Aset</h3>
        <div class="header-content">
            <div class="search-bar" style="margin-right: 30px;">
                <input placeholder="Search..." type="text"/>
                <i class="fas fa-search"></i>
            </div>
            <div class="button-selesai">
                <button>
                    <i class="fa-solid fa-check"></i> Selesai
                </button>
            </div>
        </div>
    </div>
    <div class="container-fluid px-4">
        <div class="table-responsive">
            <table class="table-compact">
                <thead>
                    <tr>
                        <th width="15%">No</th>
                        <th width="20%">Gambar Aset</th>
                        <th width="15%">Serial Number</th>
                        <th width="15%">Nama Aset</th>
                        <th width="15%">Kondisi Aset</th>
                        <th width="15%">Aksi</th>
                    </tr>
                </thead>
            </table>
            <div class="table-scroll">
                <table class="table-compact">
                    <tbody>
                        <% for (let i = 1; i <= 10; i++) { %>
                        <tr>
                            <td width="15%"><%= i %></td>
                            <td width="20%">
                                <img class="img-fluid" alt="Bukti Gambar" src="https://placehold.co/100x100" />
                            </td>
                            <td width="15%">Lorem Ipsum</td>
                            <td width="15%">Lorem Ipsum</td>
                            <td width="15%">Lorem Ipsum</td>
                            <td width="15%">
                                <button class="button-edit">
                                    <i class="fa-regular fa-pen-to-square"></i>
                                    </button>
                            </td>
                        </tr>
                        <% } %>
                    </tbody>
                </table>
        </div>
        </div>
        </div>
</main>
<!-- Pop-Up Modal Konfirmasi -->
<div id="addModal" class="popup-modal" >
    <div class="modal-content">
        <span class="close-btn" id="close">&times;</span>
        <h3>Konfirmasi Pemeliharaan Selesai</h3>
        <p>Apakah kamu yakin ingin menyelesaikan pemeliharaan aset?</p>
        <div class="flex justify-center space-x-4">
            <button type="button" class="btn cancel-btn">Tidak</button>
            <button type="button" class="btn finish-btn">Ya</button>
        </div>
    </div>
</div>

<script>
    // Mendapatkan elemen modal dan tombol
    const modal = document.getElementById("addModal");
    const cancelBtn = modal.querySelector('.cancel-btn');
    const finishBtn = modal.querySelector('.finish-btn');
    const closeBtn = document.getElementById("close");

    // Menangani klik pada tombol "Selesai"
    const selesaiButton = document.querySelector('.button-selesai');
    
    selesaiButton.addEventListener('click', function(event) {
        event.preventDefault();  // Mencegah aksi default
        modal.style.display = 'flex';  // Menampilkan modal
    });

    closeBtn.addEventListener('click', function() {
      modal.style.display = 'none';
    });

    // Menangani klik pada tombol "Tidak" untuk menutup modal
    cancelBtn.addEventListener('click', function() {
        modal.style.display = 'none';  // Menyembunyikan modal
    });

    // Menangani klik pada tombol "Ya" untuk melanjutkan aksi
    finishBtn.addEventListener('click', function() {
        modal.style.display = 'none';  // Menyembunyikan modal
        alert("Pemeliharaan aset selesai!"); // Gantilah dengan logika lain sesuai kebutuhan
    });

    // Menangani klik di luar modal untuk menutupnya
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = 'none';  // Menyembunyikan modal saat klik di luar modal
        }
    };
</script>


</body>
</html>