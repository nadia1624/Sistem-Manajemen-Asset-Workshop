<%- include("../../layout/sidebar.ejs") %>

<main class="content">
    <div class="header-content">
        <h3 style="font-weight: bold;">Pemeliharaan Aset</h3>
        <div class="header-content">
            <div class="search-bar" style="margin-right: 30px;">
                <input placeholder="Search..." type="text"/>
                <i class="fas fa-search"></i>
            </div>
            <div class="button-tambah">
                <button>
                    <i class="fas fa-plus"></i> Tambah
                </button>
            </div>
        </div>
    </div>
    <div class="container-fluid px-4">
        <div class="table-responsive">
            <table class="table-compact">
                <thead>
                    <tr>
                        <th width="5%">No</th>
                        <th width="15%">Nama Kategori</th>
                        <th width="15%">Jadwal</th>
                        <th width="15%">Jenis Pemeliharaan</th>
                        <th width="15%">Status Pemeliharaan</th>
                        <th width="20%">Aksi</th>
                    </tr>
                </thead>
            </table>
            <div class="table-scroll">
                <table class="table-compact">
                    <tbody>
                        <% for (let i = 1; i <= 10; i++) { %>
                        <tr>
                            <td width="5%"><%= i %></td>
                            <td width="15%">Lorem Ipsum</td>
                            <td width="15%">Lorem Ipsum</td>
                            <td width="15%">Lorem Ipsum</td>
                            <td width="15%" class="custom-td">
                                <span class="custom-span" style="background-color: #A2E180; font: black;">Telah Dilakukan</span>
                            </td>
                            <td width="20%">
                                <a href="pemeliharaan-aset/detail">
                                <button style="background-color: #3A68F3; padding: 12px; padding-right: 7px; margin-right: 10px; font-size: 18px; border: 2px solid #3A68F3; border-radius: 15px; color: #fff; cursor: pointer;">
                                    <i class="fa-solid fa-arrow-right"></i>
                                    </button>
                                </a>
                                <button style="background-color: #B60017; padding: 12px; padding-right: 7px; margin-right: 10px; font-size: 18px; border: 2px solid #B60017; border-radius: 15px; color: #fff; cursor: pointer;">
                                    <i class="fa-solid fa-trash"></i>
                                    </button>
                            </td>
                        </tr>
                        <% } %>
                    </tbody>
                </table>
        </div>
        </div>
        </div>
</main>
<div id="addModal" class="popup-modal">
    <div class="modal-content">
        <span class="close-btn" id="closeBtn">&times;</span>
        <h3>Tambah Pemeliharaan</h3>
        <form id="returnForm">
            <label for="status" class="left-label">Pilih Kategori Aset</label>
            <select id="status" name="status" class="block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm text-gray-700 py-2 h-10">
                <option value="" disabled selected>Pilih Kategori</option>
                <option value="Kategori 1">Kategori 1</option>
                <option value="Kategori 2">Kategori 2</option>
                <option value="Kategori 3">Kategori 3</option>
            </select>


            <label for="jadwal" class="left-label">Jadwal</label>
            <input type="date" id="jadwal" name="jadwal" required>

            <label for="jenisPemeliharaan" class="left-label">Jenis Pemeliharaan</label>
            <input type="text" id="jenisPemeliharaan" name="jenisPemeliharaan" required>

            <button type="submit" class="btn cancel-btn">Batal</button>
            <button type="submit" class="btn finish-btn">Selesai</button>
        </form>
    </div>
</div>

<script>
    // Mendapatkan elemen modal dan tombol
    const modal = document.getElementById("addModal");
    const closeBtn = document.getElementById("closeBtn");

    // Menangani klik pada tombol "Selesai"
    const selesaiButtons = document.querySelectorAll('.button-tambah');

    selesaiButtons.forEach(button => {
        button.addEventListener('click', function(event) {
            event.preventDefault();  // Mencegah aksi default
            modal.style.display = 'flex';  // Menampilkan modal
        });
    });

    // Menangani klik pada tombol tutup
    closeBtn.addEventListener('click', function() {
        modal.style.display = 'none';  // Menyembunyikan modal
    });

    // Menangani klik di luar modal untuk menutupnya
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    };
</script>

</body>
</html>