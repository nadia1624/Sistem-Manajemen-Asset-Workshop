<%- include("../../layout/sidebar.ejs") %>


<main class="content">
    <div class="header-content">
        <div class="title-section">
            <a href="/admin/pengelolaan-aset">
                <button id="" style="display: flex; align-items: center;">
                    <i class="fa-solid fa-arrow-left" style="font-weight: bold; font-size: 20px; margin-right: 10px;"></i>
                    <span style="font-size: 24px; font-weight: bold; font-family: Raleway;">[Nama Kategori]</span>
                </button>
            </a>
        </div>
        <div class="button-tambah">
            <button>
                <i class="fas fa-plus"></i> Tambah
            </button>
        </div>
    </div>
    <div class="container-fluid px-4">
        <div class="table-wrapper">
            <div class="table-responsive">
                <div class="table-bungkus">
                    <div class="table-scroll">
                        <table class="table-compact">
                            <thead>
                                <tr>
                                    <th width="5%">No</th>
                                    <th width="20%">Serial Number</th>
                                    <th width="20%">Nama Aset</th>
                                    <th width="15%">Kondisi Aset</th>
                                    <th width="15%">Status Pinjam</th>
                                    <th width="25%">Aksi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td width="5%">1</td>
                                    <td width="20%">Lorem Ipsum</td>
                                    <td width="20%">Lorem Ipsum</td>
                                    <td width="15%">Lorem Ipsum</td>
                                    <td width="15%">Lorem Ipsum</td>
                                    <td width="25%">
                                        <button class="button-delete">
                                            <i class="fa-solid fa-trash"></i>
                                        </button>
                                        <button class="button-edit">
                                            <i class="fa-regular fa-pen-to-square"></i>
                                        </button>
                                        <a href="/admin/info-aset">
                                            <button class="button-info">
                                                <i class="fa-solid fa-circle-info"></i>
                                            </button>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Modal untuk Add Aset -->
<div id="addModal" class="popup-modal">
    <div class="modal-content">
        <span class="close-btn" id="closeAddBtn">&times;</span>
        <h3>Tambah Data Aset</h3>
        <form id="addForm" class="grid-form">
            <div class="form-grid">
                <!-- Column 1 -->
                <div class="form-column">
                    <div class="form-group">
                        <label for="serialNumber" class="left-label">Serial Number</label>
                        <input type="text" id="serialNumber" name="serialNumber" placeholder="Masukkan serial number" required>
                    </div>
                    <div class="form-group">
                        <label for="hostname" class="left-label">Hostname</label>
                        <input type="text" id="hostname" name="hostname" placeholder="Masukkan hostname" required>
                    </div>
                    <div class="form-group">
                        <label for="namaAset" class="left-label">Nama Aset</label>
                        <input type="text" id="namaAset" name="namaAset" placeholder="Masukkan Nama Aset" required>
                    </div>
                    <div class="form-group">
                        <label for="deskripsi" class="left-label">Deskripsi</label>
                        <input type="text" id="deskripsi" name="deskripsi" placeholder="Masukkan Deskripsi" required>
                    </div>
                    
                </div>
 
                <!-- Column 2 -->
                <div class="form-column">
                    <div class="form-group">
                        <label for="ipAddress" class="left-label">IP Address</label>
                        <input type="text" id="ipAddress" name="ipAddress" placeholder="Masukkan IP Address" required>
                    </div>
                    <div class="form-group">
                        <label for="caraDapat" class="left-label">Cara Dapat</label>
                        <select id="caraDapat" name="caraDapat">
                            <option value="" disabled selected>Pilih Cara Dapat</option>
                            <option value="Baik">Cara Dapat 1</option>
                            <option value="Rusak Ringan">Cara Dapat 2</option>
                            <option value="Rusak Berat">Cara Dapat 3</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="kondisiAset" class="left-label">Kondisi Aset</label>
                        <select id="kondisiAset" name="kondisiAset">
                            <option value="" disabled selected>Pilih Kondisi Aset</option>
                            <option value="Baik">Baik</option>
                            <option value="Rusak Ringan">Rusak Ringan</option>
                            <option value="Rusak Berat">Rusak Berat</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="statusPinjam" class="left-label">Status Pinjam</label>
                        <input type="text" id="statusPinjam" name="statusPinjam" placeholder="Masukkan Status Pinjam" required>
                    </div>
                </div>
            </div>
            
            <div class="button-container">
                <button type="submit" class="btn finish-btn">Simpan</button>
            </div>
        </form>
    </div>
 </div>

<!-- Modal untuk Edit Kategori -->
<div id="editModal" class="popup-modal">
    <div class="modal-content">
        <span class="close-btn" id="closeEditBtn">&times;</span>
        <h3>Edit Data Aset</h3>
        <form id="editForm" class="grid-form">
            <div class="form-grid">
                <!-- Column 1 -->
                <div class="form-column">
                    <div class="form-group">
                        <label for="serialNumber" class="left-label">Serial Number</label>
                        <input type="text" id="serialNumber" name="serialNumber" placeholder="Masukkan serial number" readonly required>
                    </div>
                    <div class="form-group">
                        <label for="hostname" class="left-label">Hostname</label>
                        <input type="text" id="hostname" name="hostname" placeholder="Masukkan hostname" readonly required>
                    </div>
                    <div class="form-group">
                        <label for="namaAset" class="left-label">Nama Aset</label>
                        <input type="text" id="namaAset" name="namaAset" placeholder="Masukkan Nama Aset" readonly required>
                    </div>
                    <div class="form-group">
                        <label for="deskripsi" class="left-label">Deskripsi</label>
                        <input type="text" id="deskripsi" name="deskripsi" placeholder="Masukkan Deskripsi" readonly required>
                    </div>
                    
                </div>

                <!-- Column 2 -->
                <div class="form-column">
                    <div class="form-group">
                        <label for="ipAddress" class="left-label">IP Address</label>
                        <input type="text" id="ipAddress" name="ipAddress" placeholder="Masukkan IP Address" readonly required>
                    </div>
                    <div class="form-group">
                        <label for="caraDapat" class="left-label">Cara Dapat</label>
                        <select id="caraDapat" name="caraDapat">
                            <option value="" disabled selected>Pilih Cara Dapat</option>
                            <option value="Baik">Cara Dapat 1</option>
                            <option value="Rusak Ringan">Cara Dapat 2</option>
                            <option value="Rusak Berat">Cara Dapat 3</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="kondisiAset" class="left-label">Kondisi Aset</label>
                        <select id="kondisiAset" name="kondisiAset">
                            <option value="" disabled selected>Pilih Kondisi Aset</option>
                            <option value="Baik">Baik</option>
                            <option value="Rusak Ringan">Rusak Ringan</option>
                            <option value="Rusak Berat">Rusak Berat</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="statusPinjam" class="left-label">Status Pinjam</label>
                        <input type="text" id="statusPinjam" name="statusPinjam" placeholder="Masukkan Status Pinjam" required>
                    </div>
                </div>
            </div>
            
            <div class="button-container">
                <button type="submit" class="btn finish-btn">Simpan</button>
            </div>
        </form>
    </div>
</div>  

<div id="deleteModal" class="popup-modal">
    <div class="modal-content">
        <span class="close-btn" id="closeDeleteModal">&times;</span>
        <h3>Konfirmasi Hapus Data</h3>
        <p>Apakah kamu yakin ingin menghapus data [serial_number] ini?</p>
        <div class="flex justify-center space-x-4">
            <button type="button" class="btn cancel-btn">Tidak</button>
            <button type="button" style="background-color: #B60017; color: #fff;" class="btn finish-btn">Ya</button>
        </div>
    </div>
</div>

<script>
  // Mendapatkan elemen modal dan tombol
  const addModal = document.getElementById("addModal");
    const editModal = document.getElementById("editModal");
    const closeEditBtn = document.getElementById("closeEditBtn");
    const editForm = document.getElementById('editForm');
    const deleteModal = document.getElementById("deleteModal");
    const addAsetButton = document.querySelector('.button-tambah');
    const cancelDeleteBtn = deleteModal.querySelector('.cancel-btn');
    const confirmDeleteBtn = deleteModal.querySelector('.finish-btn');
    const closeAddBtn = document.getElementById("closeAddBtn");
    const closeDeleteBtn = document.getElementById("closeDeleteModal");
    
    const deleteButtons = document.querySelectorAll('.button-delete');
    const openEditModalBtns = document.querySelectorAll('.button-edit');

    openEditModalBtns.forEach((btn) => {
    btn.addEventListener('click', function () {
            editModal.style.display = 'flex'; // Tampilkan modal
        });
    });

      // Menangani klik pada tombol "Tambah Kategori"
  addAsetButton.addEventListener('click', function(event) {
      event.preventDefault();
      addModal.style.display = 'flex';
  });

    // Menangani klik pada tombol tutup untuk kedua modal
    closeAddBtn.addEventListener('click', function() {
      addModal.style.display = 'none';
  });

    // Menangani tombol close modal
    closeEditBtn.addEventListener('click', function () {
        editModal.style.display = 'none'; // Sembunyikan modal
    });

    // Menutup modal jika klik di luar area modal
    window.addEventListener('click', function (event) {
        if (event.target == addModal) {
          addModal.style.display = 'none';
      }
        if (event.target == editModal) {
            editModal.style.display = 'none';
        }
    });

    deleteButtons.forEach(button => {
        button.addEventListener('click', function(event) {
            event.preventDefault(); // Mencegah aksi default
            deleteModal.style.display = 'flex'; // Menampilkan modal hapus
        });
    });

    closeDeleteBtn.addEventListener('click', function() {
        deleteModal.style.display = 'none'; // Menyembunyikan modal
    });

    cancelDeleteBtn.addEventListener('click', function() {
        deleteModal.style.display = 'none'; // Menyembunyikan modal
    });

    confirmDeleteBtn.addEventListener('click', function() {
        deleteModal.style.display = 'none'; // Menyembunyikan modal
        alert("Data berhasil dihapus!"); // Ganti dengan logika hapus data
    });

    window.onclick = function(event) {
        if (event.target == deleteModal) {
            deleteModal.style.display = 'none'; // Menyembunyikan modal saat klik di luar modal
        }
    };

        // Form submit handlers
    document.getElementById('addForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const newAsetName = document.getElementById('addNamaAset').value;
        addModal.style.display = 'none';
    });

</script>

</body>
</html>