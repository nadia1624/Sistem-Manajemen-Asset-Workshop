<%- include("../../layout/sidebar.ejs") %>


<main class="content">
    <div class="header-content">
        <h3 style="font-weight: bold;">Pengelolaan Aset</h3>
        <button class="button-add-category">
          Tambah Kategori
        </button>
    </div>
    <div class="container-fluid px-4">
      <!-- Container utama untuk tabel -->
      <div class="table-wrapper">
          <div class="table-responsive">
              <table class="table-compact">
                  <thead>
                      <tr>
                          <th width="5%">No</th>
                          <th width="20%">Kategori</th>
                          <th width="20%">Jumlah Aset</th>
                          <th width="30%">Kondisi Aset</th>
                          <th width="25%">Aksi</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr>
                          <td>1</td>
                          <td>Lorem Ipsum</td>
                          <td>Lorem Ipsum</td>
                          <td>Lorem Ipsum</td>
                          <td>
                              <button class="button-delete">
                                  <i class="fa-regular fa-trash-can"></i>
                              </button>
                              <button class="button-edit">
                                  <i class="fa-regular fa-pen-to-square"></i>
                              </button>
                              <a href="/admin/list-aset">
                                <button class="button-arrow">
                                    <i class="fa-solid fa-arrow-right"></i>
                                </button>
                              </a>
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      </div>
  </div>
</main>

<!-- Modal untuk Tambah Kategori -->
<div id="addModal" class="popup-modal">
  <div class="modal-content">
      <span class="close-btn" id="closeAddBtn">&times;</span>
      <h3>Tambah Data Kategori</h3>
      <form id="addForm">
          <label for="addNamaKategori" class="left-label">Nama Kategori</label>
          <input type="text" id="addNamaKategori" name="namaKategori" placeholder="Masukkan nama kategori" required>
      </form>
      <button type="submit" class="btn finish-btn">Tambah</button>
  </div>
</div>

<!-- Modal untuk Edit Kategori -->
<div id="editModal" class="popup-modal">
  <div class="modal-content">
      <span class="close-btn" id="closeEditBtn">&times;</span>
      <h3>Edit Data Kategori</h3>
      <form id="editForm">
          <label for="editNamaKategori" class="left-label">Nama Kategori</label>
          <input type="text" id="editNamaKategori" name="namaKategori" placeholder="Masukkan nama kategori" required>
          <button type="submit" class="btn finish-btn">Simpan</button>
      </form>
  </div>
</div>

<script>
  // Mendapatkan elemen modal dan tombol
  const addModal = document.getElementById("addModal");
  const editModal = document.getElementById("editModal");
  const closeAddBtn = document.getElementById("closeAddBtn");
  const closeEditBtn = document.getElementById("closeEditBtn");
  const addCategoryButton = document.querySelector('.button-add-category');
  const editButtons = document.querySelectorAll('.button-edit');

  // Menangani klik pada tombol "Tambah Kategori"
  addCategoryButton.addEventListener('click', function(event) {
      event.preventDefault();
      addModal.style.display = 'flex';
  });

  // Menangani klik pada tombol edit
  editButtons.forEach(button => {
      button.addEventListener('click', function(event) {
          event.preventDefault();
          const row = this.closest('tr');
          const kategoriName = row.querySelector('[data-kategori]')?.textContent || '';
          document.getElementById('editNamaKategori').value = kategoriName;
          editModal.style.display = 'flex';
      });
  });

  // Menangani klik pada tombol tutup untuk kedua modal
  closeAddBtn.addEventListener('click', function() {
      addModal.style.display = 'none';
  });

  closeEditBtn.addEventListener('click', function() {
      editModal.style.display = 'none';
  });

  // Menangani klik di luar modal untuk menutupnya
  window.addEventListener('click', function(event) {
      if (event.target == addModal) {
          addModal.style.display = 'none';
      }
      if (event.target == editModal) {
          editModal.style.display = 'none';
      }
  });

  // Form submit handlers
  document.getElementById('addForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const newKategoriName = document.getElementById('addNamaKategori').value;
      // Tambahkan logika untuk menyimpan kategori baru
      addModal.style.display = 'none';
  });

  document.getElementById('editForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const updatedKategoriName = document.getElementById('editNamaKategori').value;
      // Tambahkan logika untuk mengupdate kategori
      editModal.style.display = 'none';
  });
</script>

</body>
</html>
